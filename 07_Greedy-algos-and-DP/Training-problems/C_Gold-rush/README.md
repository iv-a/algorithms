<h1 align="center">C. –ó–æ–ª–æ—Ç–∞—è –ª–∏—Ö–æ—Ä–∞–¥–∫–∞</h1>

<h5 align="center">
<a href="#limits">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</a>
‚Ä¢
<a href="#task">–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏</a>
‚Ä¢
<a href="#input">–§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞</a>
‚Ä¢
<a href="#output">–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞</a>
‚Ä¢
<a href="#examples">–ü—Ä–∏–º–µ—Ä—ã</a>
‚Ä¢
<a href="#solution">–†–µ—à–µ–Ω–∏–µ</a>
</h5>

<br>

<table id="limits">
<tbody>
<tr>
<td>
<b>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏</b>
</td>
<td>
1 —Å–µ–∫—É–Ω–¥–∞
</td>
</tr>
<tr>
<td>
<b>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏</b>
</td>
<td>
64Mb
</td>
</tr>
<tr>
<td>
<b>–í–≤–æ–¥</b>
</td>
<td>
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥ –∏–ª–∏ input.txt
</td>
</tr>
<tr>
<td>
<b>–í—ã–≤–æ–¥</b>
</td>
<td>
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –∏–ª–∏ output.txt
</td>
</tr>
</tbody>
</table>

<h2 id="task">–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏</h2>

–ì—É–ª—è—è –ø–æ –æ–¥–Ω–æ–º—É –∏–∑ –æ—Å—Ç—Ä–æ–≤–æ–≤ –ê–ª–≥–æ—Å—Å–∫–æ–≥–æ –∞—Ä—Ö–∏–ø–µ–ª–∞–≥–∞, –ì–æ—à–∞ –Ω–∞–±—Ä—ë–ª –Ω–∞ –ø–µ—â–µ—Ä—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –ª–µ–∂–∞—Ç –∫—É—á–∏ –∑–æ–ª–æ—Ç–æ–≥–æ –ø–µ—Å–∫–∞. –ö —Å—á–∞—Å—Ç—å—é, —É –ì–æ—à–∏ –µ—Å—Ç—å —Å —Å–æ–±–æ–π —Ä—é–∫–∑–∞–∫ –≥—Ä—É–∑–æ–ø–æ–¥—ä—ë–º–Ω–æ—Å—Ç—å—é –¥–æ M –∫–∏–ª–æ–≥—Ä–∞–º–º, –ø–æ—ç—Ç–æ–º—É –æ–Ω –º–æ–∂–µ—Ç —É–Ω–µ—Å—Ç–∏ —Å —Å–æ–±–æ–π –∫–∞–∫–æ–µ-—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–æ–ª–æ—Ç–∞.

–í—Å–µ–≥–æ –∑–æ–ª–æ—Ç—ã—Ö –∫—É—á n —à—Ç—É–∫, –∏ –≤—Å–µ –æ–Ω–∏ —Ä–∞–∑–Ω—ã–µ. –í –∫—É—á–µ –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º i —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è mi –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤ –∑–æ–ª–æ—Ç–æ–≥–æ –ø–µ—Å–∫–∞, –∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞ ‚Äî ci –∞–ª–≥–æ—Å—Å–∫–∏—Ö —Ñ—Ä–∞–Ω–∫–æ–≤.

–ü–æ–º–æ–≥–∏—Ç–µ –ì–æ—à–µ –Ω–∞–ø–æ–ª–Ω–∏—Ç—å —Ä—é–∫–∑–∞–∫ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–æ–ª–æ—Ç–æ–≥–æ –ø–µ—Å–∫–∞ –≤ –ø–µ—Ä–µ—Å—á—ë—Ç–µ –Ω–∞ –∞–ª–≥–æ—Å—Å–∫–∏–µ —Ñ—Ä–∞–Ω–∫–∏ –±—ã–ª–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π.

<h2 id="input">–§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞</h2>

–í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –∑–∞–¥–∞–Ω–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ M ‚Äî –≥—Ä—É–∑–æ–ø–æ–¥—ä—ë–º–Ω–æ—Å—Ç—å —Ä—é–∫–∑–∞–∫–∞ –ì–æ—à–∏ (0 ‚â§ M ‚â§ 108).

–í–æ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–µ –¥–∞–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É—á —Å –∑–æ–ª–æ—Ç—ã–º –ø–µ—Å–∫–æ–º ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ n (1 ‚â§ n ‚â§ 105).

–í –∫–∞–∂–¥–æ–π –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö n —Å—Ç—Ä–æ–∫ –æ–ø–∏—Å–∞–Ω—ã –∫—É—á–∏: i-–∞—è –∫—É—á–∞ –∑–∞–¥–∞—ë—Ç—Å—è –¥–≤—É–º—è —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ ci –∏ mi, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª (1 ‚â§ ci ‚â§ 107, 1 ‚â§ mi ‚â§ 108).

<h2 id="output">–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞</h2>

–í—ã–≤–µ–¥–∏—Ç–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ ‚Äî‚Äì –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É (–≤ –∞–ª–≥–æ—Å—Å–∫–∏—Ö —Ñ—Ä–∞–Ω–∫–∞—Ö), –∫–æ—Ç–æ—Ä—É—é –ì–æ—à–∞ —Å–º–æ–∂–µ—Ç –≤—ã–Ω–µ—Å—Ç–∏ –∏–∑ –ø–µ—â–µ—Ä—ã –≤ —Å–≤–æ—ë–º —Ä—é–∫–∑–∞–∫–µ.

<h2 id="examples">–ü—Ä–∏–º–µ—Ä—ã</h2>

<h4>–ü—Ä–∏–º–µ—Ä 1</h4>
<ul>
<h6>–í–≤–æ–¥</h6>
<pre>
10
3
8 1
2 10
4 5
</pre>

<h6>–í—ã–≤–æ–¥</h6>
<pre>
36
</pre>
</ul>

<hr>

<h4>–ü—Ä–∏–º–µ—Ä 2</h4>
<ul>
<h6>–í–≤–æ–¥</h6>
<pre>
10000
1
4 20
</pre>

<h6>–í—ã–≤–æ–¥</h6>
<pre>
80
</pre>
</ul>

<h2 id="solution">–†–µ—à–µ–Ω–∏–µ</h2>

```javascript
function solution(capacity, heaps) {
  let sum = 0, iterator = 0, totalWeight = 0;
  heaps.sort(comparator);
  while (totalWeight <= capacity && iterator < heaps.length) {
    let [ cost, weight ] = heaps[iterator];
    if (capacity - totalWeight >= weight) {
      totalWeight += weight;
      sum += cost * weight;
    } else {
      sum += cost * (capacity - totalWeight);
      totalWeight += (capacity - totalWeight);
    }
    iterator++;
  }
  return sum;
}

function comparator(a, b) {
  return b[0] - a[0];
}

const readline = require('readline');
const io_interface = readline.createInterface({input: process.stdin});

let lineNumber = 0;
let capacity, numberOfHeaps;
const heaps = [];
const DEX = 10;

io_interface.on('line', function (line) {
  if (lineNumber === 0) {
    capacity = parseInt(line, DEX);
  } else if (lineNumber === 1) {
    numberOfHeaps = parseInt(line, DEX);
  } else if (lineNumber <= numberOfHeaps + 1) {
    const [ cost, weight ] = line.split(' ').map((item) => parseInt(item, DEX));
    heaps.push([cost, weight]);
  }
  lineNumber++;
});

io_interface.on('close', function () {
  console.log(solution(capacity, heaps));
});
```
<table>
  <thead>
    <tr>
      <th>–í–µ—Ä–¥–∏–∫—Ç</th>
      <th>–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä</th>
      <th>–í—Ä–µ–º—è</th>
      <th>–ü–∞–º—è—Ç—å</th>
    </tr>
  </thead>
  <tbody>
<tr align="center">
<td>OK</td>
<td>Node.js 14.15.5</td>
<td>397ms</td>
<td>30.98Mb</td>
</tr>
  </tbody>
</table>

<p width="100%" align="right"><a href="#">üîù</a></p>