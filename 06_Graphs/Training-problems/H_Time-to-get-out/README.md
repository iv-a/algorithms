<h1 align="center">H. –í—Ä–µ–º—è –≤—ã—Ö–æ–¥–∏—Ç—å</h1>

<h5 align="center">
<a href="#limits">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</a>
‚Ä¢
<a href="#task">–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏</a>
‚Ä¢
<a href="#input">–§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞</a>
‚Ä¢
<a href="#output">–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞</a>
‚Ä¢
<a href="#examples">–ü—Ä–∏–º–µ—Ä—ã</a>
‚Ä¢
<a href="#solution">–†–µ—à–µ–Ω–∏–µ</a>
</h5>

<br>

<table id="limits">
<tbody>
<tr>
<td>
<b>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏</b>
</td>
<td>
4 —Å–µ–∫—É–Ω–¥—ã
</td>
</tr>
<tr>
<td>
<b>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏</b>
</td>
<td>
128Mb
</td>
</tr>
<tr>
<td>
<b>–í–≤–æ–¥</b>
</td>
<td>
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥ –∏–ª–∏ input.txt
</td>
</tr>
<tr>
<td>
<b>–í—ã–≤–æ–¥</b>
</td>
<td>
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –∏–ª–∏ output.txt
</td>
</tr>
</tbody>
</table>

<h2 id="task">–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏</h2>

–í–∞–º –¥–∞–Ω –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ. –ò–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –≤—Å–µ –µ–≥–æ –≤–µ—Ä—à–∏–Ω—ã –¥–æ—Å—Ç–∏–∂–∏–º—ã –∏–∑ –≤–µ—Ä—à–∏–Ω—ã s=1. –ù–∞–π–¥–∏—Ç–µ –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞ –∏ –≤—ã—Ö–æ–¥–∞ –ø—Ä–∏ –æ–±—Ö–æ–¥–µ –≤ –≥–ª—É–±–∏–Ω—É, –ø—Ä–æ–∏–∑–≤–æ–¥—è –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∏–∑ –≤–µ—Ä—à–∏–Ω—ã s. –°—á–∏—Ç–∞–π—Ç–µ, —á—Ç–æ –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞ –≤ —Å—Ç–∞—Ä—Ç–æ–≤—É—é –≤–µ—Ä—à–∏–Ω—É —Ä–∞–≤–Ω–æ 0. –°–æ—Å–µ–¥–µ–π –∫–∞–∂–¥–æ–π –≤–µ—Ä—à–∏–Ω—ã –æ–±—Ö–æ–¥–∏—Ç–µ –≤ –ø–æ—Ä—è–¥–∫–µ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–æ–≤.

<h2 id="input">–§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞</h2>

–í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –¥–∞–Ω–æ —á–∏—Å–ª–æ –≤–µ—Ä—à–∏–Ω n (1 ‚â§ n ‚â§ 2‚ãÖ 105) –∏ —Ä—ë–±–µ—Ä (0 ‚â§ m ‚â§ 2 ‚ãÖ 105). –í –∫–∞–∂–¥–æ–π –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö m —Å—Ç—Ä–æ–∫ –∑–∞–ø–∏—Å–∞–Ω—ã —Ä—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞ –≤ –≤–∏–¥–µ –ø–∞—Ä (from, to), 1 ‚â§ from ‚â§ n ‚Äî –Ω–∞—á–∞–ª–æ —Ä–µ–±—Ä–∞, 1 ‚â§ to ‚â§ n ‚Äî –µ–≥–æ –∫–æ–Ω–µ—Ü. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤ –≥—Ä–∞—Ñ–µ –Ω–µ—Ç –ø–µ—Ç–µ–ª—å –∏ –∫—Ä–∞—Ç–Ω—ã—Ö —Ä—ë–±–µ—Ä.

<h2 id="output">–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞</h2>

–í—ã–≤–µ–¥–∏—Ç–µ n —Å—Ç—Ä–æ–∫, –≤ –∫–∞–∂–¥–æ–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–ø–∏—Å–∞–Ω–∞ –ø–∞—Ä–∞ —á–∏—Å–µ–ª tini, touti ‚Äî –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞ –∏ –≤—ã—Ö–æ–¥–∞ –¥–ª—è –≤–µ—Ä—à–∏–Ω—ã i.

<h2 id="examples">–ü—Ä–∏–º–µ—Ä—ã</h2>

<h4>–ü—Ä–∏–º–µ—Ä 1</h4>
<ul>
<h6>–í–≤–æ–¥</h6>
<pre>
6 8
2 6
1 6
3 1
2 5
4 3
3 2
1 2
1 4
</pre>

<h6>–í—ã–≤–æ–¥</h6>
<pre>
0 11
1 6
8 9
7 10
2 3
4 5
</pre>
</ul>

<hr>

<h4>–ü—Ä–∏–º–µ—Ä 2</h4>
<ul>
<h6>–í–≤–æ–¥</h6>
<pre>
3 2
1 2
2 3
</pre>

<h6>–í—ã–≤–æ–¥</h6>
<pre>
0 5
1 4
2 3
</pre>
</ul>

<h2 id="solution">–†–µ—à–µ–Ω–∏–µ</h2>

```javascript
const readline = require('readline');
const io_interface = readline.createInterface({input: process.stdin});

let lineNumber = 0;
let numberOfVertices, numberOfEdges;
let graph;

io_interface.on('line', function (line) {
  if (lineNumber === 0) {
    [ numberOfVertices, numberOfEdges ] = line.split(' ');
    graph = new Graph(parseInt(numberOfVertices));
  } else if (lineNumber < parseInt(numberOfEdges, 10) + 1) {
    const [ vertexFrom, vertexTo ] = line.split(' ');
    graph.addEdge(parseInt(vertexFrom, 10), parseInt(vertexTo, 10));
  }
  lineNumber++;
});

function mainDFS(graph, start = 1) {
  function DFS(startVertex) {
    const stack = [];
    stack.push(startVertex);
    while (stack.length > 0) {
      const v = stack.pop();
      if (color[v - 1] === 'white') {
        timer[v - 1][0] = time;
        color[v - 1] = 'gray';
        time += 1;
        stack.push(v);
        let arr = graph.adj[v - 1];
        arr.forEach((w) => {
          if (color[w - 1] === 'white') stack.push(w);
        })
      } else if (color[v - 1] === 'gray') {
        timer[v - 1][1] = time;
        color[v - 1] = 'black';
        time += 1;
      }
    }
  }

  graph.sortArr();
  const color = new Array(graph.n).fill('white');
  let time = 0;
  const timer = [...Array(graph.n)].map(() => Array(2).fill(null));
  DFS(start);
  
  return timer;
}

class Graph {
  constructor(numberOfVertices) {
    this.n = numberOfVertices;
    this.adj = [];
    for (let i = 0; i < numberOfVertices; i++) {
      this.adj[i] = [];
    }
  }

  addEdge(v, w) {
    this.adj[v-1].push(w);
  }

  sortArr() {
    this.adj.forEach((arr) => arr.sort((a, b) => b - a));
  }
}

io_interface.on('close', function () {
  const result = mainDFS(graph);
  result.forEach((arr) => {
    process.stdout.write(arr.join(' ') + '\n');
  })
});
```
<table>
  <thead>
    <tr>
      <th>–í–µ—Ä–¥–∏–∫—Ç</th>
      <th>–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä</th>
      <th>–í—Ä–µ–º—è</th>
      <th>–ü–∞–º—è—Ç—å</th>
    </tr>
  </thead>
  <tbody>
<tr align="center">
<td>OK</td>
<td>Node.js 14.15.5</td>
<td>3.059s</td>
<td>122.70Mb</td>
</tr>
  </tbody>
</table>

<p width="100%" align="right"><a href="#">üîù</a></p>